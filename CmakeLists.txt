cmake_minimum_required(VERSION 3.31.7)
set(CAMKE_CXX_STANDARD 23)
set(CAMKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)
set(CMAKE_CXX_STANDARD_LIBRARY "libc++")
set(CMAKE_CXX_COMPILER "/opt/local/bin/g++")
project(
  differ VERSION 0.0.1
  DESCRIPTION "Differential file generation tool."
  LANGUAGES CXX
)

option(BUILD_COVERAGE "Generate code coverage file" ON)

list(APPEND CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake")
include(Coverage)

set(CPACK_PACKAGE_NAME "differ")
set(CPACK_PACKAGE_VERSION "0.0.1")
set(CPACK_PACKAGE_VENDOR "Leo Ely")
set(CPACK_PACKAGE_DESCIPTION "Differential file generation tool.")
set(CPACK_RESOURCE_FILE_LICENSE "${CMAKE_SOURCE_DIR}/LICENSE")
include(CPack)
include(InstallRequiredSystemLibraries)

set(CPACK_GENERATOR "DragNDrop")
set(CPACK_DMG_VOLUME_NAME "differ")
set(CPACK_DMG_APPLICATIONS_LINK_DIR "/Applications") # Link to Applications folder

add_subdirectory(src)
add_subdirectory(test)
